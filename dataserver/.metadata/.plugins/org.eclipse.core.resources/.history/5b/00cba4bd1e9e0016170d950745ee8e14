package dataFrame;

import java.text.DateFormat;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.HashMap;

public class Stock {
	
	public String name;
	public String ticker;
	public ArrayList<DataPoint> dataList;
	public HashMap<Date, DataPoint> dataMap;
	
	public Stock(String name, String ticker) {
		this.name = name;
		this.ticker = ticker;
		this.dataList = new ArrayList<DataPoint>();
		this.dataMap = new HashMap<Date, DataPoint>();
	}
	
	public void addStockEntry (String entry) {
		DataPoint data = new DataPoint(this.name, this.ticker);
		String[] strings = entry.split(",");
		
		try {
			print strings[0]
			Date date = (new SimpleDateFormat("dd/MM/yyyy")).parse(strings[0]);
			System.out.println(date);
			data.date = date;
			data.open = Double.parseDouble(strings[1]);
			data.high = Double.parseDouble(strings[2]);
			data.low = Double.parseDouble(strings[3]);
			data.close = Double.parseDouble(strings[4]);
			data.volume = Integer.parseInt(strings[5]);
			data.label = Integer.parseInt(strings[7]);
			
			dataList.add(data);
			dataMap.put(date, data);
		} catch (ParseException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
			System.out.println(strings[0]);
		}
		
		
	}
	
	public String toString() {
		String returnString = "";
		returnString += "Stock name: " + name + "/n";
		returnString += "Ticker: " + ticker + "/n";
		
		for (DataPoint data : dataList) {
			returnString += "Date: " + data.date.toString() + " open: " + data.open + " high: " + data.high 
					+ " low: " + data.low + " close: " + data.close + " volume: " + data.volume + "/n";
		}
		
		return returnString;
	}
	

}
